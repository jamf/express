name: rendr
about: A project scaffolding tool
settings:
- ArgRequiredElseHelp
- StrictUtf8
args:
subcommands:
  - info:
      about: Displays blueprint info for this project
      args:
      - dir:
          short: d
          long: dir
          help: The project directory path
          takes_value: true

  - init:
      about: Initializes a project from a blueprint
      args:
        - blueprint:
            short: b
            long: blueprint
            required: true
            help: The location of the blueprint (a git repo or a local directory)
            takes_value: true
        - name:
            required: true
            help: The name of the project
            takes_value: true
        - dir:
            short: d
            long: dir
            help: The output directory name
            takes_value: true
        - value:
            short: v
            long: value
            help: Value(s) to render the blueprint with
            takes_value: true
            multiple: true
        - git-init:
            long: git-init
            help: Initializes a Git repository in the rendered project
            takes_value: false
        - no-git-init:
            long: no-git-init
            help: Skips initializing Git repository in the rendered project
            takes_value: false
        - watch:
            long: watch
            short: w
            takes_value: false
            help: After initializing the scaffold, watch the filesystem for changes to the blueprint and reinitalize the scaffold when they are detected
        - user:
            short: u
            long: user
            help: The user for git authentication
            takes_value: true
        - pass:
            short: p
            long: pass
            help: The password for git authentication (it's recommended to use the GIT_PASS env var instead)
            takes_value: true
        - ssh-key:
            short: k
            long: ssh-key
            help: The path to the private SSH key for git auth
            takes_value: true

  - check:
      about: Checks whether a generated project can still be safely upgraded
      args:
      - project:
          short: p
          long: project
          help: The path to the project
          takes_value: true

  - upgrade:
      about: Upgrade an existing project to latest blueprint version
      args:
      - blueprint-version:
          short: v
          long: blueprint-version
          help: The version of the blueprint to upgrade (defaults to latest)
          takes_value: true
      - dir:
          short: d
          long: dir
          help: The project directory path
          takes_value: true
      - dry-run:
          long: dry-run
          help: Upgrade dry-run, no modifications made
          takes_value: false
      - value:
          short: v
          long: value
          help: Value(s) to render the blueprint with
          takes_value: true
          multiple: true
